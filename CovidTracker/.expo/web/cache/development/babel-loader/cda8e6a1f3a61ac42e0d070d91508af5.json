{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jacobdavis/codvid-app-jacobdavis608/CovidTracker/App.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport 'react-native-gesture-handler';\nimport { NavigationContainer, DarkTheme } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport MapView, { PROVIDER_GOOGLE } from 'react-native-maps';\nimport { Marker } from 'react-native-maps';\nimport Geocoder from 'react-native-geocoding';\n\nvar api_country_names = require(\"./covid_api_country_names.json\");\n\nGeocoder.init('AIzaSyCO88yA5GKJDzavK8QeDZkyu3qqTfkd_18');\nGeocoder.from(\"United States\").then(function (json) {\n  var location = json.results[0].geometry.location;\n}).catch(function (error) {\n  return console.warn(error);\n});\nvar homeBackground = {\n  uri: \"https://media.apnarm.net.au/media/images/2020/03/14/v3imagesbin33da6b497a420ebd3f8906c6d09f44d1-tayrc2vjat0f2p1uzt2_t1880.jpg\"\n};\n\nvar countriesStyle = require(\"./mapstyles/countriesStyle.json\");\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\"\n  },\n  titleText: {\n    textAlign: 'center',\n    fontSize: 32,\n    justifyContent: 'center',\n    color: \"#01f5ff\"\n  },\n  labelText: {\n    textAlign: 'center',\n    fontSize: 18,\n    justifyContent: 'center'\n  },\n  text: {\n    textAlign: 'center',\n    fontSize: 14,\n    justifyContent: 'center',\n    color: \"#01f5ff\"\n  },\n  homeView: {\n    flex: 1,\n    justifyContent: \"center\"\n  },\n  image: {\n    flex: 1,\n    resizeMode: \"contain\",\n    justifyContent: \"center\"\n  },\n  marker: {\n    backgroundColor: 'rgba(3,44,71, 0.9)',\n    padding: 5,\n    borderRadius: 5\n  }\n});\nvar bostonRegion = {\n  latitude: 37.0902,\n  longitude: -98.7129,\n  latitudeDelta: 40.0,\n  longitudeDelta: 55.0\n};\nvar id = 0;\n\nvar WorldMap = function (_Component) {\n  _inherits(WorldMap, _Component);\n\n  var _super = _createSuper(WorldMap);\n\n  function WorldMap(props) {\n    var _this;\n\n    _classCallCheck(this, WorldMap);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      region: {\n        latitude: 37.0902,\n        longitude: -98.7129,\n        latitudeDelta: 40.0,\n        longitudeDelta: 55.0\n      },\n      markers: [],\n      loadingCovidData: true,\n      country: \"\",\n      stats: {\n        date: \"\",\n        confirmed: 0,\n        deaths: 0,\n        recovered: 0\n      }\n    };\n    _this.handlePress = _this.handlePress.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(WorldMap, [{\n    key: \"getCovidData\",\n    value: function getCovidData() {\n      var _this2 = this;\n\n      var api_url = \"https://api.covid19api.com/total/country/\" + api_country_names[this.state.country];\n      fetch(api_url).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        if (resJson.length < 1 || resJson[resJson.length - 1] == undefined) {\n          _this2.setState({\n            loadingCovidData: false,\n            stats: {\n              date: \"No data available\",\n              confirmed: 0,\n              deaths: 0,\n              recovered: 0\n            }\n          });\n        } else {\n          _this2.setState({\n            loadingCovidData: false,\n            stats: {\n              date: resJson[resJson.length - 1][\"Date\"],\n              confirmed: resJson[resJson.length - 1][\"Confirmed\"],\n              deaths: resJson[resJson.length - 1][\"Deaths\"],\n              recovered: resJson[resJson.length - 1][\"Recovered\"]\n            }\n          }).then();\n        }\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    }\n  }, {\n    key: \"renderCovidData\",\n    value: function renderCovidData() {\n      var data_style = {\n        fontStyle: 'italic',\n        color: \"#01f5ff\"\n      };\n\n      if (this.state.country == \"\" && !this.state.loadingCovidData) {\n        return React.createElement(Text, {\n          style: data_style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }\n        }, \"Please select a country\");\n      } else if (this.state.loadingCovidData && this.state.country == \"\") {\n        return React.createElement(Text, {\n          style: data_style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }\n        }, \"Please select a country\");\n      } else if (this.state.loadingCovidData) {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: \"#01f5ff\",\n            fontWeight: \"bold\",\n            fontSize: 18\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 11\n          }\n        }, this.state.country), React.createElement(Text, {\n          style: data_style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 11\n          }\n        }, \"Loading...\"));\n      } else {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: \"#01f5ff\",\n            fontWeight: \"bold\",\n            fontSize: 18\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 11\n          }\n        }, this.state.country), React.createElement(Text, {\n          style: data_style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }\n        }, \"Date: \", this.state.stats.date), React.createElement(Text, {\n          style: data_style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 11\n          }\n        }, \"Confirmed: \", this.state.stats.confirmed), React.createElement(Text, {\n          style: data_style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 11\n          }\n        }, \"Deaths: \", this.state.stats.deaths), React.createElement(Text, {\n          style: data_style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 11\n          }\n        }, \"Recovered: \", this.state.stats.recovered));\n      }\n    }\n  }, {\n    key: \"handlePress\",\n    value: function handlePress(e) {\n      var _this3 = this;\n\n      this.setState({\n        markers: [{\n          coordinate: e.nativeEvent.coordinate,\n          key: id++\n        }]\n      });\n      Geocoder.from(e.nativeEvent.coordinate).then(function (json) {\n        var res = json.results;\n        var address = json.results[0].address_components;\n        var c = \"\";\n        var i;\n\n        for (i = 0; i < address.length; i++) {\n          var j;\n\n          for (j = 0; j < address[i].types.length; j++) {\n            if (address[i].types[j] == \"country\") {\n              c = address[i].long_name;\n              break;\n            }\n          }\n        }\n\n        _this3.setState({\n          country: c,\n          loadingCovidData: true\n        }, function () {\n          return _this3.getCovidData();\n        });\n      }).catch(function (error) {\n        _this3.setState({\n          country: \"\",\n          loadingCovidData: true,\n          markers: []\n        });\n      }).done();\n      return;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(MapView, {\n        style: {\n          flex: 1\n        },\n        provider: PROVIDER_GOOGLE,\n        showsUserLocation: true,\n        initialRegion: bostonRegion,\n        onLongPress: this.handlePress,\n        customMapStyle: countriesStyle,\n        zoomControlEnabled: true,\n        zoomEnabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 7\n        }\n      }, this.state.markers.map(function (marker) {\n        return React.createElement(Marker, {\n          key: marker.key,\n          coordinate: marker.coordinate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: styles.marker,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }\n        }, _this4.renderCovidData()));\n      }));\n    }\n  }]);\n\n  return WorldMap;\n}(Component);\n\nfunction HomeScreen() {\n  return React.createElement(View, {\n    style: styles.homeView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 5\n    }\n  }, React.createElement(ImageBackground, {\n    source: homeBackground,\n    style: styles.image,\n    blurRadius: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.titleText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, \"Welcome to COVID-19 Tracker\"), React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, \"Keep up with the latest Johns Hopkins University COVID-19 statistics by navigating to the World Tab\")));\n}\n\nTab = createBottomTabNavigator();\nvar tabStyle = {\n  activeTintColor: \"#01f5ff\",\n  labelStyle: styles.labelText\n};\nvar navTheme = {\n  colors: {\n    card: '#032c47',\n    border: '#032c47'\n  }\n};\n\nvar App = function (_Component2) {\n  _inherits(App, _Component2);\n\n  var _super2 = _createSuper(App);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(NavigationContainer, {\n        theme: navTheme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 9\n        }\n      }, React.createElement(Tab.Navigator, {\n        initialRouteName: \"Home\",\n        tabBarOptions: tabStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }\n      }, React.createElement(Tab.Screen, {\n        name: \"Home\",\n        component: HomeScreen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }\n      }), React.createElement(Tab.Screen, {\n        name: \"World\",\n        component: WorldMap,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };","map":{"version":3,"sources":["/Users/jacobdavis/codvid-app-jacobdavis608/CovidTracker/App.js"],"names":["NavigationContainer","DarkTheme","createBottomTabNavigator","React","Component","MapView","PROVIDER_GOOGLE","Marker","Geocoder","api_country_names","require","init","from","then","json","location","results","geometry","catch","error","console","warn","homeBackground","uri","countriesStyle","styles","StyleSheet","create","container","flex","justifyContent","titleText","textAlign","fontSize","color","labelText","text","homeView","image","resizeMode","marker","backgroundColor","padding","borderRadius","bostonRegion","latitude","longitude","latitudeDelta","longitudeDelta","id","WorldMap","props","state","region","markers","loadingCovidData","country","stats","date","confirmed","deaths","recovered","handlePress","bind","api_url","fetch","res","resJson","length","undefined","setState","log","data_style","fontStyle","fontWeight","e","coordinate","nativeEvent","key","address","address_components","c","i","j","types","long_name","getCovidData","done","map","renderCovidData","HomeScreen","Tab","tabStyle","activeTintColor","labelStyle","navTheme","colors","card","border","App"],"mappings":"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","sourcesContent":["import 'react-native-gesture-handler';\nimport { NavigationContainer, DarkTheme } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport React, {Component} from 'react';\nimport { StyleSheet, Text, View, Animated, ImageBackground} from 'react-native';\nimport MapView, { PROVIDER_GOOGLE } from 'react-native-maps';\nimport { Marker } from 'react-native-maps';\nimport Geocoder from 'react-native-geocoding';\n//import Animated from 'react-native-reanimated';\n\nconst api_country_names = require(\"./covid_api_country_names.json\");\n\nGeocoder.init('AIzaSyCO88yA5GKJDzavK8QeDZkyu3qqTfkd_18');\n\nGeocoder.from(\"United States\").then(json => {\n  var location = json.results[0].geometry.location;\n}).catch(error => console.warn(error));\n\nconst homeBackground = { uri : \"https://media.apnarm.net.au/media/images/2020/03/14/v3imagesbin33da6b497a420ebd3f8906c6d09f44d1-tayrc2vjat0f2p1uzt2_t1880.jpg\" };\n\nconst countriesStyle = require('./mapstyles/countriesStyle.json');\n\nconst styles = StyleSheet.create({\n  container: {\n      flex: 1,\n      justifyContent: \"center\"\n  },\n  titleText: {\n      textAlign: 'center',\n      fontSize: 32,\n      justifyContent: 'center',\n      color: \"#01f5ff\"\n  },\n  labelText: {\n    textAlign: 'center',\n    fontSize: 18,\n    justifyContent: 'center',\n  },\n  text: {\n    textAlign: 'center',\n    fontSize: 14,\n    justifyContent: 'center',\n    color: \"#01f5ff\"\n  },\n  homeView:{\n      flex: 1,\n      justifyContent: \"center\",\n  },\n  image: {\n    flex: 1,\n    resizeMode: \"contain\",\n    justifyContent: \"center\"\n  },\n  marker: {\n    backgroundColor: 'rgba(3,44,71, 0.9)',\n    padding: 5,\n    borderRadius: 5\n  },\n});\n\nconst bostonRegion = {\n  latitude: 37.0902,\n  longitude: -98.7129,\n  latitudeDelta: 40.0,\n  longitudeDelta: 55.0\n};\n\nlet id = 0;\n\nclass WorldMap extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      region: {\n        latitude: 37.0902,\n        longitude: -98.7129,\n        latitudeDelta: 40.0,\n        longitudeDelta: 55.0\n      },\n      markers: [\n\n      ],\n      loadingCovidData: true,\n      country: \"\",\n      stats: {\n        date: \"\",\n        confirmed: 0,\n        deaths: 0,\n        recovered: 0\n      }\n    }\n    this.handlePress = this.handlePress.bind(this)\n  }\n\n  getCovidData(){\n    var api_url = `https://api.covid19api.com/total/country/${api_country_names[this.state.country]}`;\n    fetch(api_url)\n        .then((res) => res.json())\n        .then((resJson) => {\n          if (resJson.length < 1 || resJson[resJson.length-1] == undefined){ //no data returned\n            this.setState({\n              loadingCovidData: false,\n              stats: {\n                date: \"No data available\",\n                confirmed: 0,\n                deaths: 0,\n                recovered: 0\n              }\n            });\n          }\n          else {\n            this.setState({\n              loadingCovidData: false,\n              stats: {\n                date: resJson[resJson.length-1][\"Date\"],\n                confirmed: resJson[resJson.length-1][\"Confirmed\"],\n                deaths: resJson[resJson.length-1][\"Deaths\"],\n                recovered: resJson[resJson.length-1][\"Recovered\"]\n              }\n            }).then();\n          } \n    }).catch((error)=>console.log(error) );\n  }\n\n  renderCovidData() {\n    var data_style = {\n      fontStyle: 'italic',\n      color:\"#01f5ff\"\n    }\n\n\n    if (this.state.country == \"\" && !this.state.loadingCovidData){ //no country there\n      return (<Text style={data_style}>Please select a country</Text>)\n    }\n    else if (this.state.loadingCovidData && this.state.country == \"\"){\n      return (<Text style={data_style}>Please select a country</Text>)\n    }\n    else if (this.state.loadingCovidData){ //country there but waiting for data\n      return (\n        <View>  \n          <Text style={{color:\"#01f5ff\", fontWeight: \"bold\", fontSize:18}}>\n                {this.state.country}\n          </Text>\n          <Text style={data_style}>Loading...</Text>\n        </View>\n      )\n    }\n    else{ //received data\n      return(\n        <View>\n          <Text style={{color:\"#01f5ff\", fontWeight: \"bold\", fontSize:18}}>\n                {this.state.country}\n          </Text>\n          <Text style={data_style}>\n          Date: {this.state.stats.date}\n          </Text>\n          <Text style={data_style}>\n            Confirmed: {this.state.stats.confirmed}\n          </Text>\n          <Text style={data_style}>\n            Deaths: {this.state.stats.deaths}\n          </Text>\n          <Text style={data_style}>\n            Recovered: {this.state.stats.recovered}\n          </Text>\n        </View>\n      );\n    }\n  }\n\n  handlePress(e){\n    //get the full address of the click\n    this.setState({\n      markers: [\n        {\n          coordinate: e.nativeEvent.coordinate,\n          key: id++,\n        },\n      ],\n    });\n\n    // identify the pressed country and display stats\n    Geocoder.from(e.nativeEvent.coordinate).then(json => {\n      var res = json.results;\n      var address = json.results[0].address_components;\n      var c = \"\";\n      var i;\n      for (i = 0; i < address.length; i++){\n        var j;\n        for (j = 0; j < address[i].types.length; j++){\n          if(address[i].types[j] == \"country\"){\n            c = address[i].long_name\n            break;\n          }\n        }\n      }\n      this.setState({\n        country: c, \n        loadingCovidData: true\n      }, () => this.getCovidData());\n    }).catch(error => {\n        this.setState({\n          country: \"\",\n          loadingCovidData: true,\n          markers: []\n        });\n      }\n    ).done();\n    return;\n  }\n\n  render() {\n    return (\n      <MapView\n        style = {{ flex: 1 }}\n        provider= { PROVIDER_GOOGLE }\n        showsUserLocation\n        initialRegion={bostonRegion}\n        onLongPress={this.handlePress}\n        customMapStyle={countriesStyle}\n        zoomControlEnabled={true}\n        zoomEnabled={true}\n      >\n      {this.state.markers.map(marker => (\n          <Marker\n            key={marker.key}\n            coordinate={marker.coordinate}\n          >\n            <View style={styles.marker}>\n              {this.renderCovidData()}\n            </View>\n          </Marker>\n      ))}\n      </MapView>\n    );\n  }\n}\n\nfunction HomeScreen(){\n  return(\n    <View style={styles.homeView}>\n      <ImageBackground source={homeBackground} style={styles.image} blurRadius={2}>\n        <Text style={styles.titleText}>\n          Welcome to COVID-19 Tracker\n        </Text>\n        <Text style={styles.text}>\n          Keep up with the latest Johns Hopkins University COVID-19 statistics by navigating to the World Tab\n        </Text>\n      </ImageBackground>\n      \n    </View>\n  );\n}\n\nTab = createBottomTabNavigator();\n\nconst tabStyle = {\n  activeTintColor: \"#01f5ff\",\n  labelStyle: styles.labelText,\n}\n\nconst navTheme = {\n  colors: {\n    card: '#032c47',\n    border: '#032c47',\n  },\n};\n\nexport default class App extends Component {\n    \n    render(){\n      return(\n        <NavigationContainer theme={navTheme}>\n          <Tab.Navigator initialRouteName=\"Home\" tabBarOptions={tabStyle} >\n            <Tab.Screen name=\"Home\" component={HomeScreen}/>\n            <Tab.Screen name=\"World\" component={WorldMap}/>\n          </Tab.Navigator>\n        </NavigationContainer>\n      );\n\n    }\n}"]},"metadata":{},"sourceType":"module"}